local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- Değişkenler
local speedEnabled = false
local currentSpeed = 50

-- Eski UI temizleme
pcall(function()
    if game.CoreGui:FindFirstChild("YildirayBooster2_Fix") then
        game.CoreGui.YildirayBooster2_Fix:Destroy()
    end
end)

-- Ana GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "YildirayBooster2_Fix"
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

local MainB = Instance.new("Frame")
MainB.Name = "BoosterMain"
MainB.Size = UDim2.new(0, 220, 0, 130) -- Biraz daha büyütüldü
MainB.Position = UDim2.new(0.05, 0, 0.4, 0)
MainB.BackgroundColor3 = Color3.fromRGB(25, 25, 25) -- Koyu gri
MainB.Active = true
MainB.Draggable = true -- Modern sürükleme özelliği
MainB.Parent = ScreenGui

Instance.new("UICorner", MainB).CornerRadius = UDim.new(0, 12)

local UIStroke = Instance.new("UIStroke", MainB)
UIStroke.Color = Color3.fromRGB(255, 215, 0) -- Başlangıçta Sarı
UIStroke.Thickness = 2.5

local BTitle = Instance.new("TextLabel")
BTitle.Size = UDim2.new(1, 0, 0, 40)
BTitle.BackgroundTransparency = 1
BTitle.Text = "Yildiray Booster 2 ⚡"
BTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
BTitle.TextSize = 17
BTitle.Font = Enum.Font.GothamBold
BTitle.Parent = MainB

local SpeedBox = Instance.new("TextBox")
SpeedBox.Size = UDim2.new(0, 170, 0, 35) -- TextBox büyütüldü
SpeedBox.Position = UDim2.new(0.5, -85, 0, 45)
SpeedBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
SpeedBox.Text = tostring(currentSpeed)
SpeedBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedBox.PlaceholderText = "Hız..."
SpeedBox.Font = Enum.Font.GothamBold
SpeedBox.Parent = MainB
Instance.new("UICorner", SpeedBox).CornerRadius = UDim.new(0, 8)

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, 0, 0, 30)
StatusLabel.Position = UDim2.new(0, 0, 1, -35)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "DURUM: KAPALI (Q)"
StatusLabel.TextColor3 = Color3.fromRGB(200, 80, 80) -- Kırmızı
StatusLabel.TextSize = 14
StatusLabel.Font = Enum.Font.GothamBold
StatusLabel.Parent = MainB

-- Hız Döngüsü
RunService.Heartbeat:Connect(function()
    if speedEnabled then
        local char = player.Character
        if char and char:FindFirstChild("HumanoidRootPart") and char:FindFirstChild("Humanoid") then
            local hrp = char.HumanoidRootPart
            local hum = char.Humanoid
            if hum.MoveDirection.Magnitude > 0 then
                hrp.AssemblyLinearVelocity = Vector3.new(
                    hum.MoveDirection.X * currentSpeed,
                    hrp.AssemblyLinearVelocity.Y,
                    hum.MoveDirection.Z * currentSpeed
                )
            end
        end
    end
end)

-- Toggle Fonksiyonu
local function toggleSpeed()
    speedEnabled = not speedEnabled
    if speedEnabled then
        StatusLabel.Text = "DURUM: AKTİF ✅"
        StatusLabel.TextColor3 = Color3.fromRGB(80, 200, 120) -- Yeşil
        UIStroke.Color = Color3.fromRGB(80, 200, 120)
    else
        StatusLabel.Text = "DURUM: KAPALI ❌"
        StatusLabel.TextColor3 = Color3.fromRGB(200, 80, 80) -- Kırmızı
        UIStroke.Color = Color3.fromRGB(255, 215, 0) -- Tekrar Sarı
    end
end

-- Tuş Dinleyici
UserInputService.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.Q then 
        toggleSpeed() 
    end
end)

-- Hız Ayarı Güncelleme
SpeedBox:GetPropertyChangedSignal("Text"):Connect(function()
    local val = tonumber(SpeedBox.Text)
    if val then
        currentSpeed = val
    end
end)
